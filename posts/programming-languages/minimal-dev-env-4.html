<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Minimal dev environment, part 4</title>
<meta name="description" content="My minimal development environment was too minimal, so I upgraded to a faster computer." />
<meta name="keywords" content="deno,linux,minimalism,netbooks" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<link rel="stylesheet" href="../../css/style.css" />

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Minimal dev environment, part 4",
  "abstract": "My minimal development environment was too minimal, so I upgraded to a faster computer.",
  "keywords": "programming-languages,deno,linux,minimalism,netbooks",
  "datePublished": "2023-04-06"
}
</script>
</head>
<body>
<header>
<h1><a href="../../index.html">Schemescape</a></h1>
<p>Development log of a life-long coder</p>

<nav>
<strong>Topics:&nbsp;</strong>
<ul>
<li><a href="../../posts/programming-languages/index.html">programming-languages</a></li>
<li><a href="../../posts/deno/index.html">deno</a></li>
<li><a href="../../posts/linux/index.html">linux</a></li>
<li><a href="../../posts/minimalism/index.html">minimalism</a></li>
<li><a href="../../posts/netbooks/index.html">netbooks</a></li>
</ul>
</nav>
</header>
<main>
<article>
<header>
<h1><a href="../../posts/programming-languages/minimal-dev-env-4.html">Minimal dev environment, part 4</a></h1>
<p><time datetime="2023-04-06">April 6, 2023</time></p>
</header>
<p>In <a href="minimal-dev-env-3.html">part 3</a>, I tried out a minimal development environment (based on Alpine Linux) on a Raspberry Pi 1 B. This update is essentially the conclusion of my Raspberry Pi experiment.</p>
<h1 id="recap">Recap</h1>
<p>Here's a summary of what I've learned so far:</p>
<ol>
<li>I love Alpine Linux--it honestly feels like the only sane way to manage a Linux distribution--because it's fast, light, and (mostly) only contains the tools you ask for</li>
<li>The Raspberry Pi 1 B is <em>very</em> slow--I was willing to accept that my JavaScript/Deno-based static site generator might be slow (I never really optimized it), but paging through code in Vim (in the terminal) is something I <em>need</em> to be fast, and my Pi-based setup failed at this</li>
<li>Browsing the modern web in a terminal is unpleasant</li>
</ol>
<h1 id="enter-the-gui">Enter the GUI</h1>
<p>To address the last point, I decided to see if I could get a lightweight GUI environment running on the Pi. I hadn't run a Linux desktop in over a decade, but I previously used <a href="http://fluxbox.org/">Fluxbox</a> and later <a href="https://www.gnome.org/">GNOME</a>, so I'm not completely lost. The latter is a full desktop environment, and fairly heavy, so I decided to give Fluxbox a shot first (after reading up on how to run rootless X.org).</p>
<p>Getting X.org up and running with Fluxbox wasn't too difficult, and then I was able to use the <a href="https://www.dillo.org/">Dillo browser</a> to improve my web browsing experience. Unfortunately, everything GUI-related was painfully slow, especially moving windows around. Just in case I was missing some sort of hardware acceleration or something, I tested out the official Raspberry Pi OS. It was unbearably slow as well (and the build of Chromium appeared to be for ARMv7, which my Pi doesn't support).</p>
<h1 id="goodbye-pi">Goodbye, Pi</h1>
<p>To be honest, it's impressive how much you can do with a 10+ year-old, less than $50 (originally) single-board computer (running at 3.5 Watts). I could run Linux, edit and compile C code, browse the web in a terminal, read RSS feeds, and even run Node/NPM. It seems perfect for running a low-traffic server at home (something I <a href="../web-development/cheap-hosting.html">don't need to do at the moment</a>).</p>
<p>But the bottom line is that I want something faster.</p>
<p>There are newer Raspberry Pi models that should be <em>much</em> faster than my almost-original--and I'd like to try one out someday--but for now I'm proceeding with hardware that I already own.</p>
<h1 id="hello-netbook">Hello, netbook</h1>
<p>Specifically, I'm upgrading to a 12 year-old Dell netbook (Inspiron Mini 1018) with a 1.66 GHz Intel Atom (N455) processor and 1 GB of RAM.</p>
<h2 id="linux-on-a-laptop-is-pretty-great">Linux on a laptop... is pretty great!</h2>
<p>As an aside, I'm compelled to comment on how much the laptop experience on Linux has improved since I last gave up (in the mid-00s). The sub-200 MB Alpine Linux installer <em>just worked</em>, even for Wi-Fi! Additionally, I discovered that, even though the netbook shipped with 32-bit Windows, its processor is actually 64-bit, so now I'm running an architecture that is <em>still relevant</em>. This is intriguing to me because Deno only supports 64-bit processors, and I assumed that the old hardware I had laying around couldn't run Deno.</p>
<p>Having said that, at one point I decided to see if Debian would work better than Alpine. The Debian installer worked great (it automatically supported wireless networking on my netbook), but after installation wireless stopped working. After a few hours of researching and trying to fix the problem, I reverted back to Alpine.</p>
<p>For the record, only &quot;suspend&quot; works on this laptop (hibernate is indistinguishable from powering off). I also have to manually adjust the terminal resolution using <code>fbset</code> (after enabling Linux &quot;Kernel Mode Setting&quot;, a.k.a. KMS). Not a seamless experience, but still acceptable.</p>
<h1 id="performance">Performance</h1>
<p>Here's a quick performance comparison of building this site using <a href="https://jaredkrinke.github.io/md2blog/">md2blog</a>, on various JavaScript runtimes, between my Raspberry Pi 1 B and my Dell Inspiron Mini 1018:</p>
<table>
<thead>
<tr>
<th>Build time by device</th>
<th align="right"><a href="https://github.com/jaredkrinke/leano">leano</a></th>
<th align="right">Node</th>
<th align="right">Deno</th>
</tr>
</thead>
<tbody>
<tr>
<td>Raspberry Pi</td>
<td align="right">4 minutes</td>
<td align="right">2 minutes</td>
<td align="right">not possible</td>
</tr>
<tr>
<td>Netbook</td>
<td align="right">1 minute</td>
<td align="right">20 seconds</td>
<td align="right">12 seconds</td>
</tr>
</tbody>
</table>
<p>Note that I had to resort to using <a href="https://github.com/NixOS/nix">Nix</a> to get Deno running because Deno depends on <a href="https://www.gnu.org/software/libc/">glibc</a> and doesn't support <a href="https://musl.libc.org/">musl</a> (the C standard library implementation that Alpine Linux uses).</p>
<p>Overall, this is a 4 - 6x performance improvement (on a machine that coincidentally cost 4 - 6 times as much as the Pi 1 B, originally).</p>
<h2 id="battery-life">Battery life</h2>
<p>My old setup chained me to my desk, but now I can take my laptop wherever. I don't really remember what the battery life was like originally (or on Windows), but I'm able to get 4 - 6 hours of intensive use. That is plenty for me at the moment, although it certainly doesn't seem like &quot;good&quot; battery life. I've also noticed that the (rotational) hard drive seems to spin up and down consistently every 5 seconds, even when I'm not doing anything. I'm not sure if it's a hardware, driver, or Linux problem, but I'm just trying to ignore it for now.</p>
<h2 id="power-consumption">Power consumption</h2>
<p>One area where the Raspberry Pi excelled was power consumption. At max capacity, I measured it at around 3.5 Watts.</p>
<p>My netbook is much less efficient, but overall not too bad. At full load, it seems to peak around 15 - 20 Watts. In standby, it consumes rougly 4 Watts, which is pretty similar to the Raspberry Pi (considering that I never powered down the Pi).</p>
<h1 id="to-be-continued">To be continued...</h1>
<p>Now that I've got a tolerably fast computer, I can get some <em>real</em> work done. In the next post, I'm planning to cover the software side of things:</p>
<ul>
<li>Adding a console &quot;taskbar&quot; to GNU Screen</li>
<li>Attempting to use a language server with a text editor</li>
</ul>

<footer>
<p>&crarr; <a href="../../index.html">Back to home</a></p>
</footer>
</article>
</main>

</body>
</html>
